<div *ngIf="showAlert" class="top-alert error">
  <span class="message">{{ errorMessage }}</span>
</div>

<div class="login-container">
  <div class="login-left">
    <h2>Login to</h2>

    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <label for="email">Email</label>
      <input
        type="email"
        id="email"
        formControlName="email"
        placeholder="test@vallauri.edu"
      />

      <label for="password">Password</label>
      <input
        type="password"
        id="password"
        formControlName="password"
        placeholder="Inserisci la tua password..."
      />

      <button type="submit" [disabled]="!loginForm.valid" class="btn btn-signin">
        Sign In
      </button>
    </form>
    
    <!-- Link per la password dimenticata -->
    <p class="forgot-password-link" (click)="openPasswordReset()">Password dimenticata?</p>
  </div>

  <div class="login-right">
    <img src="assets/Logo1.png" alt="Dashboard example" />
  </div>
</div>

<!-- Popup per recupero password -->

<div *ngIf="showPasswordResetPopup" class="popup-overlay">
  <div class="popup">
    <div class="popup-header">
      <h2>Password Reset</h2>
      <button class="close-btn" (click)="closePasswordResetPopup()">Ã—</button>
    </div>
    <div class="popup-content">
      <label for="resetEmail">Inserisci il tuo indirizzo email</label>
      <input
        type="email"
        id="resetEmail"
        [(ngModel)]="resetEmail"
        placeholder="Enter your email"
      />
      <button class="btn-reset" (click)="onResetPassword()">Send Reset Link</button>
    </div>
  </div>
</div>

<!-- Alert di successo -->
<div *ngIf="showSuccessAlert" class="top-alert">
  <span class="message">Email inviata con successo!</span>
</div>
